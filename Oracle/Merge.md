# Entendendo o uso do merge

Abaixo será criada a tabela_aleatoria. O objetivo aqui é inserir se não existir o id 1 e se já existir o id 1 então só atualizar com os novos valores de `src`

``` sql
CREATE TABLE tabela_aleatoria (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY, -- Coluna de ID com valor gerado automaticamente
    nome VARCHAR2(50),                         -- Coluna de nome com um limite de 50 caracteres
    idade NUMBER,                              -- Coluna de idade para armazenar números inteiros
    data_nascimento DATE,                      -- Coluna de data de nascimento
    salario NUMBER(10, 2)                      -- Coluna de salário com 10 dígitos, incluindo 2 decimais
);

MERGE INTO tabela_aleatoria t
USING (SELECT 1 AS id, 'João Silva' AS nome, 30 AS idade, TO_DATE('1993-05-10', 'YYYY-MM-DD') AS data_nascimento, 4500.00 AS salario FROM dual) src
ON (t.id = src.id)
WHEN MATCHED THEN
  UPDATE SET t.nome = src.nome,
             t.idade = src.idade,
             t.data_nascimento = src.data_nascimento,
             t.salario = src.salario
WHEN NOT MATCHED THEN
  INSERT (nome, idade, data_nascimento, salario) 
  VALUES (src.nome, src.idade, src.data_nascimento, src.salario);


select * from tabela_aleatoria;
```